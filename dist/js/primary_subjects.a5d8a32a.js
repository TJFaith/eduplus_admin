(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["primary_subjects"],{7464:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Container"},[a("div",{staticClass:"pageLayout d-flex justify-content-center text-white"},[a("v-snackbar",{attrs:{color:"red"},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"white",text:""},on:{click:function(e){t.showSnackbarAlert=!1}}},"v-btn",i,!1),[a("v-icon",[t._v("fas fa-times")])],1)]}}]),model:{value:t.showSnackbarAlert,callback:function(e){t.showSnackbarAlert=e},expression:"showSnackbarAlert"}},[t._v(" "+t._s(t.errorMessage)+" ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.primary_allSubjects,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("PRIMARY SUBJECTS")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",r,!1),i),[a("v-icon",[t._v("mdi-plus")]),t._v(" New Subject ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-form",{ref:"form"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Subject Name",required:"",rules:t.nameRules},model:{value:t.editedItem.primary_subject,callback:function(e){t.$set(t.editedItem,"primary_subject",e)},expression:"editedItem.primary_subject"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete "+t._s(t.selectedSubjct)+"?, The questions and options related to this subject would be deleted as well")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",disabled:t.showLoading,text:""},on:{click:t.deleteItemConfirm}},[t.showLoading?a("v-progress-circular",{attrs:{color:"primary",size:20,indeterminate:""}}):t._e(),t._v(" OK ")],1),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.get_Primary_Subject}},[t._v(" Refresh ")])]},proxy:!0}])})],1)])},r=[],s=(a("c975"),{data:function(){return{nameRules:[function(t){return!!t||"Name is required"}],showSnackbarAlert:!1,errorMessage:"",selectedSubjct:null,dialog:!1,dialogDelete:!1,headers:[{text:"Subjects",align:"start",sortable:!0,value:"primary_subject"},{text:"Total Questions",value:"total_question"},{text:"Actions",value:"actions",sortable:!1}],primary_allSubjects:[],editedIndex:-1,editedItem:{primary_subject:"",total_question:0},defaultItem:{primary_subject:"",total_question:0},showLoading:!1}},computed:{formTitle:function(){return-1===this.editedIndex?"New Subject":"Edit Subject"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.get_Primary_Subject()},methods:{get_Primary_Subject:function(){var t=this;this.axios.get(this.$hostname+"primary_api.php?action=get_Primary_Subject").then((function(e){t.primary_allSubjects=e.data})).catch((function(e){t.errorMessage=e,t.showSnackbarAlert=!0}))},editItem:function(t){this.editedIndex=this.primary_allSubjects.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.selectedSubjct=t.primary_subject,this.editedIndex=this.primary_allSubjects.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.showLoading=!0,this.axios.post(this.$hostname+"primary_api.php?action=delete_Primary_Subject",this.editedItem).then((function(e){t.get_Primary_Subject(),t.showLoading=!1,t.closeDelete()})).catch((function(e){t.errorMessage=e,t.showSnackbarAlert=!0}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;this.$refs.form.validate()&&(this.showLoading=!0,this.editedIndex>-1?this.axios.post(this.$hostname+"primary_api.php?action=update_Primary_Subject",this.editedItem).then((function(){t.showLoading=!1,t.get_Primary_Subject(),t.closeDelete()})).catch((function(e){t.errorMessage=e,t.showSnackbarAlert=!0})):this.axios.post(this.$hostname+"primary_api.php?action=add_Primary_Subject",this.editedItem).then((function(e){t.get_Primary_Subject(),t.showLoading=!1,t.primaryModel=!1})).catch((function(e){t.errorMessage=e,t.showSnackbarAlert=!0})),this.close())}}}),o=s,n=a("2877"),c=a("6544"),l=a.n(c),d=a("8336"),u=a("b0af"),m=a("99d9"),h=a("62ad"),b=a("a523"),v=a("8fea"),f=a("169a"),p=a("ce7e"),_=a("4bd4"),g=a("132d"),y=a("490a"),x=a("0fd9"),S=a("2db4"),j=a("2fa4"),k=a("8654"),w=a("71d9"),I=a("2a7f"),C=Object(n["a"])(o,i,r,!1,null,null,null);e["default"]=C.exports;l()(C,{VBtn:d["a"],VCard:u["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:h["a"],VContainer:b["a"],VDataTable:v["a"],VDialog:f["a"],VDivider:p["a"],VForm:_["a"],VIcon:g["a"],VProgressCircular:y["a"],VRow:x["a"],VSnackbar:S["a"],VSpacer:j["a"],VTextField:k["a"],VToolbar:w["a"],VToolbarTitle:I["a"]})}}]);
//# sourceMappingURL=primary_subjects.a5d8a32a.js.map